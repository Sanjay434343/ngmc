  <!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Registration</title>
    <!-- Include Firebase scripts for modular v9+ -->
    <script type="module">
      import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.19.1/firebase-app.js';
      import { getDatabase, ref, set, push } from 'https://www.gstatic.com/firebasejs/9.19.1/firebase-database.js';

      // Your web app's Firebase configuration
      const firebaseConfig = {
          apiKey: "AIzaSyAvfKEmzO888a_P93t88hGGJxPyd5rd0Es",
          authDomain: "eventregister-ab2fc.firebaseapp.com",
          databaseURL: "https://eventregister-ab2fc-default-rtdb.firebaseio.com",
          projectId: "eventregister-ab2fc",
          storageBucket: "eventregister-ab2fc.appspot.com",
          messagingSenderId: "1056597328049",
          appId: "1:1056597328049:web:e04e9672aeeac45be02290"
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const database = getDatabase(app);

      // Handle form submission
      document.addEventListener('DOMContentLoaded', () => {
        const form = document.getElementById('registration-form');
        form.addEventListener('submit', function(event) {
          event.preventDefault();

          const name = document.getElementById('name').value;
          const email = document.getElementById('email').value;
          const phone = document.getElementById('phone').value;
          const course = document.getElementById('course').value;
          const university = document.getElementById('university').value;
          const gender = document.getElementById('gender').value;
          const eventType = document.getElementById('event').value;

          const fileInput = document.getElementById('image');
          const file = fileInput.files[0];
          
          if (file) {
            const reader = new FileReader();
            reader.onloadend = function() {
              const base64Image = reader.result.split(',')[1]; // Get Base64 string without the data URL prefix
              
              // Store data in Firebase
              const registrationsRef = ref(database, 'registrations');
              const newRegistrationRef = push(registrationsRef);
              set(newRegistrationRef, {
                name: name,
                email: email,
                phone: phone,
                course: course,
                university: university,
                gender: gender,
                eventType: eventType,
                image: base64Image
              }).then(() => {
                alert('Registration successful!');
                form.reset(); // Reset form
              }).catch((error) => {
                console.error('Error registering:', error);
                alert('Error registering. Please try again.');
              });
            };
            
            reader.readAsDataURL(file); // Convert image to Base64
          } else {
            alert('Please upload an image.');
          }
        });
      });
    </script>
  </head>
  <body>
    <h1>Event Registration</h1>
    
    <form id="registration-form">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" required>
      
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required>
      
      <label for="phone">Phone Number:</label>
      <input type="tel" id="phone" name="phone" required>
      
      <label for="course">Course:</label>
      <input type="text" id="course" name="course" required>
      
      <label for="university">University:</label>
      <input type="text" id="university" name="university" required>
      
      <label for="gender">Gender:</label>
      <select id="gender" name="gender" required>
        <option value="male">Male</option>
        <option value="female">Female</option>
      </select>
      
      <label for="event">Event Type:</label>
      <select id="event" name="event" required>
        <option value="dance">Dance</option>
        <option value="singing">Sing</option>
        <option value="hackathon">Hackathon</option>
        <option value="quiz">Quiz</option>
        <option value="treasureHunt">Treasure Hunt</option>
      </select>
      
      <label for="image">Profile Image:</label>
      <input type="file" id="image" name="image" accept="image/*" required>
      
      <button type="submit">Register</button>
    </form>
  </body>
  </html>
