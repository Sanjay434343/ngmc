<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Teko:wght@300..700&display=swap" rel="stylesheet">
  <title>Admin Dashboard</title>
  <style>
    body {
      font-family: Arial, sans-serif; /* Set a default font */
      background-color: #18d5905c; /* Light grey background */
      padding: 20px;
    }

    .card1 {
      background-color: #18d59f; /* Red background */
      padding: 20px;
      margin-bottom: 20px; /* Space between cards */
      border: 1px solid #ccc; /* Border around cards */
      border-radius: 30px; /* Rounded corners */
      transition: 0.5s ease-in-out;
    }

    .card1:hover{
      background-color: #005230;
      
    }

    .card1 h2 {
      margin-top: 0; /* Remove top margin for heading */
      color: white; /* White text color */
      font-size: 15px; /* Font size */
    }

    .card2 {
        background-color: #18d59f; /* Red background */

      transition: 0.5s ease-in-out;

      padding: 20px;
      margin-bottom: 20px; /* Space between cards */
      border: 1px solid #ccc; /* Border around cards */
      border-radius: 30px; /* Rounded corners */
    }

    .card2:hover{
        background-color: #005230;

    }


    .card2 h2 {
      margin-top: 0; /* Remove top margin for heading */
      color: white; /* White text color */
      font-size: 15px; /* Font size */
    }

    a {
      font-size: 14px;
      display: block; /* Display links as block elements */
      text-decoration: none; /* Remove default underline */
      color: #ffffff; /* Black text on hover */ 
      background-color: #18d59c5e; /* Background color */
      padding: 10px 20px; /* Padding around text */
      margin-bottom: 10px; /* Space between links */
      border: 1px solid #00ffb3; /* Border around links */
      border-radius: 30px; /* Rounded corners */
      transition: background-color 0.3s, color 0.3s; /* Smooth transition for hover effects */
      font-weight: 1000; /* Bold text */
      text-transform: uppercase;
    }

    a:hover {
      background-color:  #18d59c; /* Light green background on hover */
      color: #ffffff; /* Black text on hover */
    } 
   

  
    .res{
      font-size: 30px;
      font-weight: 1000;
      color: #ffffff;
      text-transform: uppercase;


  }

  .title{
    font-family: "Teko", sans-serif;
    color: rgb(81, 255, 212);
    align-items: center;
    display: inline-block;
    margin-left: 20px;
    transition: 1s ease-in-out;

  }

  
  .title:hover{
    font-family: "Teko", sans-serif;
    color: rgb(0, 126, 93);
    align-items: center;
    display: inline-block;
    margin-left: 20px;
 font-size: 3em;
  }


    /* Media query for responsive layout */
    @media (min-width: 768px) {
      .card-container {
        display: grid;
        grid-template-columns: repeat(2, 1fr); /* Two columns */
        gap: 10px; /* Gap between cards */
      }

      
    }
  </style>
</head>
<body>
  <h1 class="title">ADMIN PAGE</h1>

  <!-- Total Results and Total Questions Cards Container -->
  <div class="card-container">
    <!-- Total Results Card -->
    <div class="card1">
      <h2>Total</h2>
      <p id="totalResults" class="res">Loading...</p>
    </div>

    <!-- Total Questions Card -->
    <div class="card2">
      <h2>Singing competetion</h2>
      <p id="sing" class="res">Loading...</p>
    </div>
  </div>

  <div class="card2">
    <h2>Dance competetion</h2>
    <p id="dance" class="res">Loading...</p>
  </div>
</div>



<div class="card2">
    <h2>Web Hackthon</h2>
    <p id="hackathon" class="res">Loading...</p>
  </div>
</div>


<div class="card2">
    <h2>Quizz</h2>
    <p id="quizz" class="res">Loading...</p>
  </div>
</div>

<div class="card2">
    <h2>Treasure-Hunt</h2>
    <p id="treasureHunt" class="res">Loading...</p>
  </div>
</div>



  <!-- Navigation Links -->
  <a href="main.html?event=singing">Singing</a>
  <a href="main.html?event=dance">Dance</a>
  <a href="main.html?event=hackathon">Hackathon</a>
  <a href="main.html?event=quizz">Quizz</a>
  <a href="main.html?event=treasure-hunt">Treasure-Hunt</a>
  

  <!-- Firebase JavaScript SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-database-compat.js"></script>
  <script>
    const firebaseConfig = {
        apiKey: "AIzaSyAvfKEmzO888a_P93t88hGGJxPyd5rd0Es",
        authDomain: "eventregister-ab2fc.firebaseapp.com",
        databaseURL: "https://eventregister-ab2fc-default-rtdb.firebaseio.com",
        projectId: "eventregister-ab2fc",
        storageBucket: "eventregister-ab2fc.appspot.com",
        messagingSenderId: "1056597328049",
        appId: "1:1056597328049:web:e04e9672aeeac45be02290" 
    };

    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    // Function to fetch total results and total questions
    function fetchTotals() {
      // Fetch total results
      database.ref('registrations').once('value', (snapshot) => {
        document.getElementById('totalResults').textContent = snapshot.numChildren();
      });

   
      // Fetch count of people who selected 'sing'
      database.ref('registrations').orderByChild('eventType').equalTo('sing').once('value', (snapshot) => {
        document.getElementById('sing').textContent = snapshot.numChildren();
      });
    

          // Fetch count of people who selected 'sing'
          database.ref('registrations').orderByChild('eventType').equalTo('sing').once('value', (snapshot) => {
            document.getElementById('dance').textContent = snapshot.numChildren();
          });

          database.ref('registrations').orderByChild('eventType').equalTo('sing').once('value', (snapshot) => {
            document.getElementById('hackathon').textContent = snapshot.numChildren();
          });

          database.ref('registrations').orderByChild('eventType').equalTo('sing').once('value', (snapshot) => {
            document.getElementById('quizz').textContent = snapshot.numChildren();
          });

          database.ref('registrations').orderByChild('eventType').equalTo('sing').once('value', (snapshot) => {
            document.getElementById('treasureHunt').textContent = snapshot.numChildren();
          });
        }
    // Call function to fetch totals on page load
    fetchTotals();

    // Auto-reload totals every 10 seconds
    setInterval(fetchTotals, 10000); // 10 seconds (10000 milliseconds)
  </script>
</body>
</html>
